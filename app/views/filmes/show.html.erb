<div class="d-flex flex-column min-vh-100 justify-content-center align-items-center p-3" style="gap: 20px; max-width: 700px; margin: auto;">
  <!-- T칤tulo do filme -->
  <h1 class="text-light mb-3">游꿟 <%= @filme.titulo %> (<%= @filme.ano %>)</h1>

  <!-- Card com detalhes do filme -->
  <div class="card bg-dark text-light p-4 rounded shadow w-100">
    <p><strong>Diretor:</strong> <%= @filme.diretor %></p>
    <p><strong>Dura칞칚o:</strong> <%= @filme.duracao %> minutos</p>
    <p><strong>Sinopse:</strong></p>
    <p><%= @filme.sinopse %></p>

    <!-- Bot칫es de a칞칚o -->
    <div class="mt-3 d-flex justify-content-center gap-2 flex-wrap">
      <%= link_to "Voltar", filmes_path, class: "btn btn-outline-light" %>

      <% if user_signed_in? && @filme.user == current_user %>
        <%= link_to "Editar", edit_filme_path(@filme), class: "btn btn-outline-warning" %>
        <%= link_to "Excluir", filme_path(@filme),
              data: { turbo_method: :delete, turbo_confirm: "Tem certeza que deseja excluir este filme?" },
              class: "btn btn-outline-danger" %>
      <% end %>
    </div>
  </div>

  <!-- Coment치rios -->
  <div class="card bg-dark text-light p-4 rounded shadow w-100 mt-4">
    <h3>Coment치rios</h3>

    <% @filme.comentarios.order(created_at: :desc).each do |comentario| %>
      <div class="mb-2 border-bottom pb-2">
        <p class="mb-1">
          <strong>
            <%= comentario.nome.presence || (comentario.user.present? ? comentario.user.email : "An칪nimo") %>:
          </strong>
        </p>
        <p><%= comentario.conteudo %></p>
      </div>
    <% end %>

    <!-- Formul치rio para novo coment치rio -->
    <h5 class="mt-3">Adicionar coment치rio</h5>
    <%= form_with(model: [@filme, Comentario.new], local: true) do |f| %>
      <% unless user_signed_in? %>
        <div class="mb-2">
          <%= f.label :nome, "Nome" %>
          <%= f.text_field :nome, class: "form-control bg-secondary text-light border-0" %>
        </div>
      <% end %>
      <div class="mb-2">
        <%= f.label :conteudo, "Coment치rio" %>
        <%= f.text_area :conteudo, rows: 3, class: "form-control bg-secondary text-light border-0" %>
      </div>
      <%= f.submit "Comentar", class: "btn btn-primary" %>
    <% end %>
  </div>
</div>

<!-- Estilos Dark Theme -->
<style>
  body {
    background-color: #121212;
    color: #f1f1f1;
    margin: 0;
  }

  .form-control.bg-secondary {
    background-color: #1e1e1e !important;
    color: #f1f1f1;
  }

  .btn-outline-light {
    color: #f1f1f1;
    border-color: #f1f1f1;
  }
  .btn-outline-light:hover {
    background-color: #f1f1f1;
    color: #121212;
  }

  .btn-outline-warning {
    color: #ffc107;
    border-color: #ffc107;
  }
  .btn-outline-warning:hover {
    background-color: #ffc107;
    color: #121212;
  }

  .btn-outline-danger {
    color: #dc3545;
    border-color: #dc3545;
  }
  .btn-outline-danger:hover {
    background-color: #dc3545;
    color: #121212;
  }

  .btn-primary {
    background-color: #0d6efd;
    border-color: #0d6efd;
    color: #fff;
  }
  .btn-primary:hover {
    background-color: #0b5ed7;
    border-color: #0a58ca;
    color: #fff;
  }
</style>
